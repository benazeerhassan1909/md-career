{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 7, "column": 0}, "map": {"version":3,"sources":["file:///Users/benazeer/Local%20Sites/md-career/src/sanity/lib/submitCareerForm.ts"],"sourcesContent":["// lib/submitCareerForm.ts\nimport { createClient } from '@sanity/client'\n\nconst client = createClient({\n    projectId: 'aiy1j8gs',         // replace with your actual project ID\n    dataset: 'production',\n    apiVersion: '2023-01-01',\n    useCdn: false,\n    token: process.env.NEXT_PUBLIC_SANITY_WRITE_TOKEN, // keep this in .env\n})\n\nexport const uploadResume = async (file: File) => {\n    const asset = await client.assets.upload('file', file, {\n        filename: file.name,\n        contentType: file.type,\n    })\n\n    return {\n        _type: 'file',\n        asset: {\n            _type: 'reference',\n            _ref: asset._id,\n        }\n    }\n}\n\nexport const submitCareerForm = async (data: {\n    fullName: string,\n    email: string,\n    phone?: string,\n    position?: string,\n    coverLetter?: string,\n    resume?: File\n}) => {\n    let resumeFile = null\n    if (data.resume) {\n        resumeFile = await uploadResume(data.resume)\n    }\n\n    const doc = {\n        _type: 'careerSubmission',\n        fullName: data.fullName,\n        email: data.email,\n        phone: data.phone || '',\n        position: data.position || '',\n        coverLetter: data.coverLetter || '',\n        resume: resumeFile,\n        submittedAt: new Date().toISOString(),\n    }\n\n    return await client.create(doc)\n}\n"],"names":[],"mappings":"AAAA,0BAA0B;;;;;AAQf;AAPX;;AAEA,MAAM,SAAS,CAAA,GAAA,iLAAA,CAAA,eAAY,AAAD,EAAE;IACxB,WAAW;IACX,SAAS;IACT,YAAY;IACZ,QAAQ;IACR,KAAK;AACT;AAEO,MAAM,eAAe,OAAO;IAC/B,MAAM,QAAQ,MAAM,OAAO,MAAM,CAAC,MAAM,CAAC,QAAQ,MAAM;QACnD,UAAU,KAAK,IAAI;QACnB,aAAa,KAAK,IAAI;IAC1B;IAEA,OAAO;QACH,OAAO;QACP,OAAO;YACH,OAAO;YACP,MAAM,MAAM,GAAG;QACnB;IACJ;AACJ;AAEO,MAAM,mBAAmB,OAAO;IAQnC,IAAI,aAAa;IACjB,IAAI,KAAK,MAAM,EAAE;QACb,aAAa,MAAM,aAAa,KAAK,MAAM;IAC/C;IAEA,MAAM,MAAM;QACR,OAAO;QACP,UAAU,KAAK,QAAQ;QACvB,OAAO,KAAK,KAAK;QACjB,OAAO,KAAK,KAAK,IAAI;QACrB,UAAU,KAAK,QAAQ,IAAI;QAC3B,aAAa,KAAK,WAAW,IAAI;QACjC,QAAQ;QACR,aAAa,IAAI,OAAO,WAAW;IACvC;IAEA,OAAO,MAAM,OAAO,MAAM,CAAC;AAC/B","debugId":null}},
    {"offset": {"line": 61, "column": 0}, "map": {"version":3,"sources":["file:///Users/benazeer/Local%20Sites/md-career/src/components/CareerForm.tsx"],"sourcesContent":["'use client'\n\nimport { useState } from 'react'\nimport { submitCareerForm } from '../sanity/lib/submitCareerForm'\nexport default function CareerForm() {\n    const [form, setForm] = useState({\n        fullName: '',\n        email: '',\n        phone: '',\n        position: '',\n        coverLetter: '',\n        resume: null as File | null,\n    })\n\n    const [submitting, setSubmitting] = useState(false)\n    const [success, setSuccess] = useState(false)\n    const [error, setError] = useState<string | null>(null)\n\n    const handleChange = (e: React.ChangeEvent<HTMLInputElement | HTMLTextAreaElement>) => {\n        const { name, value } = e.target\n        setForm(prev => ({ ...prev, [name]: value }))\n    }\n\n    const handleFileChange = (e: React.ChangeEvent<HTMLInputElement>) => {\n        if (e.target.files && e.target.files[0]) {\n            setForm(prev => ({ ...prev, resume: e.target.files![0] }))\n        }\n    }\n\n    const handleSubmit = async (e: React.FormEvent) => {\n        e.preventDefault()\n        setSubmitting(true)\n        setError(null)\n\n        try {\n            await submitCareerForm(form)\n            setSuccess(true)\n            setForm({\n                fullName: '',\n                email: '',\n                phone: '',\n                position: '',\n                coverLetter: '',\n                resume: null,\n            })\n        } catch (err) {\n            console.error(err)\n            setError('Something went wrong. Please try again.')\n        } finally {\n            setSubmitting(false)\n        }\n    }\n\n    return (\n        <form onSubmit={handleSubmit} className=\"max-w-xl mx-auto space-y-6 bg-gray-100 p-8 rounded shadow\">\n            <h2 className=\"text-2xl font-semibold\">Apply for this Position</h2>\n\n            {success && <p className=\"text-green-600 font-medium\">Your application has been submitted!</p>}\n            {error && <p className=\"text-red-600 font-medium\">{error}</p>}\n\n            <div>\n                <label className=\"block font-medium\">Full Name</label>\n                <input type=\"text\" name=\"fullName\" value={form.fullName} onChange={handleChange} required className=\"w-full mt-1 p-2 border\" />\n            </div>\n\n            <div>\n                <label className=\"block font-medium\">Email</label>\n                <input type=\"email\" name=\"email\" value={form.email} onChange={handleChange} required className=\"w-full mt-1 p-2 border\" />\n            </div>\n\n            <div>\n                <label className=\"block font-medium\">Phone</label>\n                <input type=\"text\" name=\"phone\" value={form.phone} onChange={handleChange} className=\"w-full mt-1 p-2 border\" />\n            </div>\n\n            <div>\n                <label className=\"block font-medium\">Position</label>\n                <input type=\"text\" name=\"position\" value={form.position} onChange={handleChange} className=\"w-full mt-1 p-2 border\" />\n            </div>\n\n            <div>\n                <label className=\"block font-medium\">Cover Letter</label>\n                <textarea name=\"coverLetter\" value={form.coverLetter} onChange={handleChange} rows={4} className=\"w-full mt-1 p-2 border\" />\n            </div>\n\n            <div>\n                <label className=\"block font-medium\">Resume (PDF, DOCX)</label>\n                <input type=\"file\" accept=\".pdf,.doc,.docx\" onChange={handleFileChange} className=\"w-full mt-1\" />\n            </div>\n\n            <button\n                type=\"submit\"\n                disabled={submitting}\n                className=\"bg-blue-600 text-white py-2 px-6 rounded hover:bg-blue-700 disabled:opacity-50\"\n            >\n                {submitting ? 'Submitting...' : 'Submit Application'}\n            </button>\n        </form>\n    )\n}\n"],"names":[],"mappings":"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","debugId":null}}]
}